<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="STYLESHEET" type="text/css" href="yhttpd.css"/>
<title>ControlAPI</title>
</head>
<body>


<h1>control-API Dokumentation</h1><hr>
<br>
<b>API-Aufrufe</b><table border="0">
	<tr>
		<td>1. <a href="#channellist">Die Kanalliste </a> </td>
		<td><a href="http://box_ip/control/channellist">http://box_ip/control/channellist</a></td>
	</tr>
	<tr>
		<td>2. <a href="#epg">EPG-Abfrage</a></td>
		<td><a href="http://box_ip/control/epg">http://box_ip/control/epg</a></td>
	</tr>
	<tr>
		<td>3. <a href="#epgsearch">EPG-Suche</a></td>
		<td><a href="http://box_ip/control/epgsearch">http://box_ip/control/epgsearch</a></td>
	</tr>
	<tr>
		<td>4. <a href="#epgsearchxml">EPG-Suche mit XML Ausgabe</a></td>
		<td><a href="http://box_ip/control/epgsearchxml">http://box_ip/control/epgsearchxml</a></td>
	</tr>
	<tr>
		<td>5. <a href="#shutdown">Die Box herunterfahren</a></td>
		<td><a href="http://box_ip/control/shutdown">http://box_ip/control/shutdown</a></td>
	</tr>
	<tr>
		<td>6. <a href="#standby">Standby Mode</a></td>
		<td><a href="http://box_ip/control/standby">http://box_ip/control/standby</a></td>
	</tr>
	<tr>
		<td>7. <a href="#volume">Lautstaerke-Steuerung</a></td>
		<td><a href="http://box_ip/control/volume">http://box_ip/control/volume</a></td>
	</tr>
	<tr>
		<td>8. <a href="#zapto">Programm umschalten / Playback</a></td>
		<td><a href="http://box_ip/control/zapto">http://box_ip/control/zapto</a></td>
	</tr>
	<tr>
		<td>9. <a href="#setmode">Radio/TV, Record Mode</a></td>
		<td><a href="http://box_ip/control/setmode">http://box_ip/control/setmode</a></td>
	</tr>
	<tr>
		<td>10. <a href="#getmode">Radio/TV Mode Abfrage</a></td>
		<td><a href="http://box_ip/control/getmode">http://box_ip/control/getmode</td>
	</tr>
	<tr>
		<td>11. <a href="#getdate">Datum von der Box abfragen</a></td>
		<td><a href="http://box_ip/control/getdate">http://box_ip/control/getdate</a></td>
	</tr>
	<tr>
		<td>12. <a href="#gettime">Uhrzeit von der Box abfragen</a></td>
		<td><a href="http://box_ip/control/gettime">http://box_ip/control/gettime</a></td>
	</tr>
	<tr>
		<td>13. <a href="#info">Allgemeine Informationen</a></td>
		<td><a href="http://box_ip/control/info">http://box_ip/control/info</a></td>
	</tr>
	<tr>
		<td>14. <a href="#getonidsid">Aktuellen Kanal abfragen</a></td>
		<td><a href="http://box_ip/control/getonidsid">
		http://box_ip/control/getonidsid</a></td>
	</tr>
	<tr>
		<td>15. <a href="#currenttpchannels">Transponder-Sender abfragen</a></td>
		<td><a href="http://box_ip/control/currenttpchannels">
		http://box_ip/control/currenttpchannels</a></td>
	</tr>
	<tr>
		<td>16. <a href="#get_logo">Senderlogo-Pfad abfragen</a></td>
		<td><a href="http://box_ip/control/get_logo">
		http://box_ip/control/get_logo</a></td>
	</tr>		
	<tr>
		<td>17. <a href="#getservicesxml">services.xml lesen</a></td>
		<td><a href="http://box_ip/control/getservicesxml">
		http://box_ip/control/getservicesxml</a></td>
	</tr>
	<tr>
		<td>18. <a href="#getbouquetsxml">bouquets.xml auslesen</a></td>
		<td><a href="http://box_ip/control/getbouquetsxml">
		http://box_ip/control/getbouquetsxml</a></td>
	</tr>
	<tr>
		<td>19. <a href="#getbouquets">Bouquetlist abfragen</a></td>
		<td><a href="http://box_ip/control/getbouquets">
		http://box_ip/control/getbouquets</a></td>
	</tr>
	<tr>
		<td>20. <a href="#getbouquet">Bouquet abfragen</a></td>
		<td><a href="http://box_ip/control/getbouquet">
		http://box_ip/control/getbouquet</a></td>
	</tr>
	<tr>
		<td>21. <a href="#message">Fenster in Neutrino</a></td>
		<td><a href="http://box_ip/control/message">http://box_ip/control/message</a></td>
	</tr>
	<tr>
		<td>22. <a href="#timer">Timerd Interface</a></td>
		<td><a href="http://box_ip/control/timer">http://box_ip/control/timer</a></td>
	</tr>
	<tr>
		<td>23. <a href="#lcd">LCD-Interace</a></td>
		<td><a href="http://box_ip/control/lcd">http://box_ip/control/lcd</a></td>
	</tr>
	<tr>
		<td>24. <a href="#exec">Shellscript ausführen</a></td>
		<td><a href="http://box_ip/cgi-bin/exec">http://box_ip/cgi-bin/exec</a></td>
	</tr>
	<tr>
		<td>25. <a href="#system">System-/Treiberfunktionen</a></td>
		<td><a href="http://box_ip/control/system">http://box_ip/control/system</a></td>
	</tr>
	<tr>
		<td>26. <a href="#rc">Fernbedienung</a></td>
		<td><a href="http://box_ip/control/rc">http://box_ip/control/rc</a></td>
	</tr>
	<tr>
		<td>27. <a href="#reboot">Die Box neu starten</a></td>
		<td><a href="http://box_ip/control/reboot">http://box_ip/control/reboot</a></td>
	</tr>
	<tr>
		<td>28. <a href="#settings">Einige Einstellungen lesen</a></td>
		<td><a href="http://box_ip/control/settings">http://box_ip/control/settings</a></td>
	</tr>
	<tr>
		<td>29. <a href="#version">Die /.versions-File lesen</a></td>
		<td><a href="http://box_ip/control/version">http://box_ip/control/version</a></td>
	</tr>
	<tr>
		<td>30. <a href="#startplugin">Plugin ausführen</a></td>
		<td><a href="http://box_ip/control/startplugin">
		http://box_ip/control/startplugin</a></td>
	</tr>
	<tr>
		<td>31. <a href="#yweb">Support für yweb</a></td>
		<td><a href="http://box_ip/control/yweb">http://box_ip/control/yweb</a></td>
	</tr>
	<tr>
		<td>32. <a href="#aspectratio">Aspektratio lesen</a></td>
		<td><a href="http://box_ip/control/aspectratio">
		http://box_ip/control/aspectratio</a></td>
	</tr>
	<tr>
		<td>33. <a href="#videoformat">Videoformat lesen/setzen</a></td>
		<td><a href="http://box_ip/control/videoformat">
		http://box_ip/control/videoformat</a></td>
	</tr>
	<tr>
		<td>34. <a href="#videooutput">Videooutput lesen/setzen</a></td>
		<td><a href="http://box_ip/control/videooutput">
		http://box_ip/control/videooutput</a></td>
	</tr>
	<tr>
		<td>35. <a href="#vcroutput">VCR-output lesen/setzen</a></td>
		<td><a href="http://box_ip/control/vcroutput">
		http://box_ip/control/vcroutput</a></td>
	</tr>
	<tr>
		<td>36. <a href="#scartmode">Scartmode lesen/setzen</a></td>
		<td><a href="http://box_ip/control/scartmode">
		http://box_ip/control/scartmode</a></td>
	</tr>
	<tr>
		<td>37. <a href="#rcem">Fernbedienungstasten emulieren</a></td>
		<td><a href="http://box_ip/control/rcem">http://box_ip/control/rcem</a></td>
	</tr>
	<tr>
		<td>38. <a href="#setbouquet">Bouquet-Editor: Attribute setzen</a></td>
		<td><a href="http://box_ip/control/setbouquet">
		http://box_ip/control/setbouquet</a></td>
	</tr>
	<tr>
		<td>39. <a href="#savebouquet">Bouquet-Editor: Bouquet-Liste</a></td>
		<td><a href="http://box_ip/control/savebouquet">
		http://box_ip/control/savebouquet</a></td>
	</tr>
	<tr>
		<td>40. <a href="#movebouquet">Bouquet-Editor: Bouquet verschieben</a></td>
		<td><a href="http://box_ip/control/movebouquet">
		http://box_ip/control/movebouquet</a></td>
	</tr>
	<tr>
		<td>41. <a href="#deletebouquet">Bouquet-Editor: Bouquet löschen</a></td>
		<td><a href="http://box_ip/control/deletebouquet">
		http://box_ip/control/deletebouquet</a></td>
	</tr>
	<tr>
		<td>42. <a href="#addbouquet">Bouquet-Editor: Bouquet hinzufügen</a></td>
		<td><a href="http://box_ip/control/addbouquet">
		http://box_ip/control/addbouquet</a></td>
	</tr>
	<tr>
		<td>43. <a href="#renamebouquet">Bouquet-Editor: Bouquet umbenennen</a></td>
		<td><a href="http://box_ip/control/renamebouquet">
		http://box_ip/control/renamebouquet</a></td>
	</tr>
	<tr>
		<td>44. <a href="#changebouquet">Bouquet-Editor: Bouquet Channels ändern</a></td>
		<td><a href="http://box_ip/control/changebouquet">
		http://box_ip/control/changebouquet</a></td>
	</tr>
	<tr>
		<td>45. <a href="#reloadsetup">Settings neu laden</a></td>
		<td><a href="http://box_ip/control/reloadsetup">http://box_ip/control/reloadsetup</a></td>
	</tr>
	<tr>
		<td>46. <a href="#reloadplugins">Plugins neu laden</a></td>
		<td><a href="http://box_ip/control/reloadplugins">
		http://box_ip/control/reloadplugins</a></td>
	</tr>
	<tr>
		<td>47. <a href="#screenshot">Screenshot erstellen</a></td>
		<td><a href="http://box_ip/control/screenshot">
		http://box_ip/control/screenshot</a></td>
	</tr>
	<tr>
		<td>48. <a href="#signal">Signalst&auml;rke anzeigen</a></td>
		<td><a href="http://box_ip/control/signal">
		http://box_ip/control/signal</a></td>
	</tr>
	<tr>
		<td>49. <a href="#audio">Audio-Decoder Informationen</a></td>
		<td><a href="http://box_ip/control/audio">
		http://box_ip/control/audio</a></td>
	</tr>
	<tr>
		<td>50. <a href="#crypt">CA-IDs abfragen</a></td>
		<td><a href="http://box_ip/control/crypt">
		http://box_ip/control/crypt</a></td>
	</tr>
	<tr>
		<td>51. <a href="#file">Verzeichnis-Inhalt anzeigen</a></td>
		<td><a href="http://box_ip/control/file">
		http://box_ip/control/file</a></td>
	</tr>
	<tr>
		<td>52. <a href="#config">Configs ansehen/bearbeiten</a></td>
		<td><a href="http://box_ip/control/config">
		http://box_ip/control/config</a></td>
	</tr>	
	<tr>
		<td>53. <a href="#build_live_url">Streaming URL anfordern</a></td>
		<td><a href="http://box_ip/control/build_live_url">
		http://box_ip/control/build_live_url</a></td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
</table>
<p>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="channellist"></a><b>1. Die Kanalliste</b></div>
<div class="URL">Handler: http://box_ip/control/channellist</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rueckgabe:</b><br>
<br>
Es wird die gesamte Kanalliste von Neutrino zurueckgegeben.<br>
Jede Zeile wird von einem Enter (\n) von der Naechsten getrennt.<br>
Eine Zeile enthaelt ein Programm.<br>
<br>
<b>Rueckgabe-Format:</b> channel_id Programmname<br>
<br>
Die channel_id dient als Handle fuer andere Operationen wie Zappen oder EPG.<br>
Die channel_id ist eine 64 bit Hexadezimalzahl.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/channellist<br>
16dca Das Erste<br>
16e29 EinsExtra<br>
16e2a EinsFestival<br>
16e2b EinsMuXx<br>
16d66 ZDF<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1">2. <a name="epg"></a><b>EPG-Abfrage</b></div>
<div class="URL">Handler: http://box_ip/control/epg</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle verfuegbaren EPG's aller Programme, zur aktuellen Zeit<br>
zurueckgegeben. Jede Zeile wird von einem Enter (\n) von der<br>
Naechsten getrennt. Eine Zeile enthaelt die Information ueber die<br>
aktuell laufende Sendung.<br>
<br>
<b>Rueckgabe-Format:</b> channel_id EVENTID Titel der Sendung<br>
<br>
Die EVENTID dient als Handle um genauere Informationen abzufragen.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epg<br>
8716804 571264467523 Wasserloch Nr. 3<br>
8716304 571231699926 Ein Kaefig voller Helden<br>
8716311 571232198133 Cop Rock<br>
</div>
<b>Parameter:</b> channel_id (64 bit, hexadezimal)<br>
<b>Rueckgabe:</b><br>
<br>
Als Rueckgabe wird die Eventliste des durch die channel_id<br>
identifizierten Senders gesendet, d.h. eine Liste, welche Filme auf<br>
diesem Sender kommen. Jede Zeile wird von einem Enter (\n) von der<br>
Naechsten getrennt.<br>
<br>
<b>Rueckgabe-Format:</b> EVENTID Startzeit Dauer Titel der Sendung<br>
<br>
Die EVENTID dient als Handle um genauere EPG-Informationen abzufragen.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epg?8716304<br>
571231699925 1021322700 1500 Shooting Stars<br>
571231699926 1021324200 1500 Ein Kaefig voller Helden<br>
571231699927 1021325700 1500 The Hitchhiker<br>
571231699928 1021327200 1500 The Hitchhiker<br>
</div>
<b>Parameter:</b> id=channel_id<br>
<b>Rueckgabe:</b><br>
<br>
Als Rueckgabe wird die Eventliste des durch die channel_id<br>
identifizierten Senders gesendet, das heisst eine Liste, was fuer<br>
Filme auf einem Sender kommen. Jeder Datensatz wird von einem<br>
EnterEnter (\n\n) vom Naechsten getrennt.<br>
<br>
<b>Rueckgabe-Format:</b> <br>
EVENTID Startzeit DURATION<br>
TITLE<br>
INFO1<br>
INFO2<br>
<br>
Die EVENTID dient als Handle um genauere EPG-Informationen abzufragen.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epg?id=16dcb<br>
6143198520 1067754600 1800<br>
Daten der Woche<br>
Moderation: Andrea Müller<br>
Themen: Kandidatenkür: Maas wird Spitzenkandidat<br>
Aufsteiger: Auszeichnung für Scheer Dikussion: Längere<br>
Arbeitszeiten; dazu ein Interview mit Christian Scholz,<br>
Wirtschaftswissenschaftler Ladenschluss: Öffnungszeiten am<br>
Sonntag <br>
<br>
6143198521 1067756400 1800<br>
Abendschau<br>
Themen: Protestmarsch &quot;Es reicht&quot; Vorabdruck: Harry<br>
Potter Militär-Musikfest&#352;AbendschauNews Ermittlungen<br>
gegen Michael Krausz Bahnunfall am Alexanderplatz Aubis<br>
Urteil<br>
</div>
<br>
<b>Parameter:</b> eventid=EVENTID<br>
<b>Rückgabe:</b><br>
<br>
Es wird die ausführliche Beschreibung eines Films<br>
zurückgegeben. Diese besteht aus einem Titel, einer allgemeinen<br>
Info und der Beschreibung. Titel Info und Beschreibung derwen mit<br>
einem Enter (\n) vonneinander getrennt. Es muss beachtet werden, dass<br>
in der Beschreibung weitere Enter vorkommen können.<br>
<br>
<b>Rückgabe-Format:</b><br>
Titel<br>
Info<br>
Beschreibung<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epg?eventid=571231699926<br>
Ein Käfig voller Helden<br>
Operation 'Tiger' <br>
blablabla <br>
</div>
<b>Parameter: ext</b><br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle verfuegbaren EPG's aller Programme, zur aktuellen Zeit<br>
zurueckgegeben. Jede Zeile wird von einem Enter (\n) von der<br>
Naechsten getrennt. Eine Zeile enthaelt die Information ueber die<br>
aktuell laufende Sendung.<br>
<br>
<b>Rueckgabe-Format:</b> channel_id Startzeit Dauer EVENTID Titel der Sendung<br>
<br>
Die EVENTID dient als Handle um genauere Informationen abzufragen.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epg?ext<br>
8716330 1025382300 6900 571233417784 Rocky 2<br>
</div>
<b>Parameter:</b> xml=true&amp;channelid=&lt;channel_id&gt;|channelname=&lt;channel 
name&gt;[&amp;details=true][&amp;max=&lt;max items&gt;][&amp;stoptime=&lt;long:stop time&gt;]<br>
<b>Rückgabe:</b><br>
Liefert zum angegebenen channel (angegeben durch channel_id oder channel_name) 
das EPG als XML-Liste zurück.<br>
channel_name=Ein oder mehrere durch Komma getrente Sendernamen.<br>
Wird details=true angegeben, dann werden zusätzlich info1 and info2 mit 
ausgegeben.<br>
Zur Begrenzung der Menge der Listeneinträge kann max für die Anzahl der Elemente 
oder <br>
stoptime für die Uhrzeit bis zu der Angaben gemacht werden sollen, begrenzt 
werden.<br>
<div class="example">
Beispiel:<br>
&gt;&gt;&gt;http://192.168.0.15/control/epg?xml=true&amp;channelid=44d00016dca&amp;details=true&amp;max=2<br>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;<br>
&lt;epglist&gt;<br>
&lt;channel_id&gt;44d00016dca&lt;/channel_id&gt;<br>
&lt;channel_name&gt;&lt;![CDATA[Das Erste]]&gt;&lt;/channel_name&gt;<br>
&lt;prog&gt;<br>
&lt;eventid&gt;309903955495411052&lt;/eventid&gt;<br>
&lt;eventid_hex&gt;44d00016dcadd6c&lt;/eventid_hex&gt;<br>
&lt;start_sec&gt;1148314800&lt;/start_sec&gt;<br>
&lt;start_t&gt;18:20&lt;/start_t&gt;<br>
&lt;date&gt;02.10.2006&lt;/date&gt;<br>
&lt;stop_sec&gt;1148316600&lt;/stop_sec&gt;<br>
&lt;stop_t&gt;18:50&lt;/stop_t&gt;<br>
&lt;duration_min&gt;30&lt;/duration_min&gt;<br>
&lt;description&gt;&lt;![CDATA[Marienhof]]&gt;&lt;/description&gt;<br>
&lt;info1&gt;&lt;![CDATA[(Folge 2868)]]&gt;&lt;/info1&gt;<br>
&lt;info2&gt;&lt;![CDATA[Sülo verachtet Constanze wegen ihrer Intrige. Luigi plündert das 
Konto und haut ab. Jessy will Carlos über ihre Chats aufklären.]]&gt;&lt;/info2&gt;<br>
&lt;/prog&gt;<br>
&lt;prog&gt;<br>
<br>
&lt;eventid&gt;309903955495411054&lt;/eventid&gt;<br>
&lt;eventid_hex&gt;44d00016dcadd6e&lt;/eventid_hex&gt;<br>
&lt;start_sec&gt;1148316600&lt;/start_sec&gt;<br>
&lt;start_t&gt;18:50&lt;/start_t&gt;<br>
&lt;stop_sec&gt;1148320200&lt;/stop_sec&gt;<br>
&lt;stop_t&gt;19:50&lt;/stop_t&gt;<br>
<br>
&lt;duration_min&gt;60&lt;/duration_min&gt;<br>
&lt;description&gt;&lt;![CDATA[Großstadtrevier]]&gt;&lt;/description&gt;<br>
&lt;info1&gt;&lt;![CDATA[239. Fenstergespenster]]&gt;&lt;/info1&gt;<br>
&lt;info2&gt;&lt;![CDATA[Pech für Dirk Matthies: Da steigt er auf eine Leiter, weil ihn 
mal der Putzfimmel überkommt, und - knacks! - bricht eine Sprosse. Das Bein ist 
gebrochen, mehrere Rippen geprellt. Katja Metz versorgt ihn mit dem 
Nötigsten.]]&gt;&lt;/info2&gt;<br>
&lt;/prog&gt;<br>
&lt;/epglist&gt;<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1">3. <a name="epgsearch"></a><b>EPG-Suche</b></div>
<div class="URL">Handler: http://box_ip/control/epgsearch</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle verfuegbaren EPG-Daten aller Programme zurueckgegeben.<br>
<br>
<b>Rueckgabe-Format:</b> Datum Startzeit Monat Wochentag Dauer in Minuten Sender Titel der Sendung Beschreibung<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epgsearch<br>
2015-04-15 01:30  Apr  Mi [30 min]<br>
rbb Berlin HD<br>
THADEUSZ<br>
Gast: Bettina Tietjen<br>
Wie vertrauenerweckend und freundlich Fernsehgesichter sein können,<br>
bemerken Zuschauer spätestens dann, wenn Bettina Tietjen sie zu einer<br>
ihrer Sendungen begrüßt. Seit mehr als 20 Jahren moderiert sie von einem<br>
roten Sofa aus die Sendung "DAS!" für den NDR. Und aktuell macht sie sich<br>
mit dem Buch "Unter Tränen gelacht. Mein Vater, die Demenz und ich"<br>
auch als Autorin einen Namen.<br>
fsk:0<br>
Soap/Melodram/Folklore<br>
----------------------------------------------------------<br>
2015-04-15 01:30  Apr  Mi [20 min]<br>
TNT Serie HD<br>
King of Queens<br>
Dancing Queen<br>
8. Staffel, Folge 1: Doug muss Überzeugungsarbeit leisten, um Carrie zu <br>
einem Kurs im "Pole Dancing" zu überreden. Doch nach den ersten Stunden <br>
gefällt es ihr überraschend gut.<br>
USA 2005, mit Jerry Stiller, Kevin James, Leah Remini. 20 Min.<br>
fsk:0<br>
Soap/Melodram/Folklore<br>
</div>
<b>Parameter:</b> Suchbegriff;epginfo=false<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle Sendungen im EPG zurueckgegeben, die den Suchbegriff<br>
im Titel oder Beschreibungstext beinhalten.<br>
Die Treffer lassen sich unter Angabe von epginfo=false auf Treffer im Titel beschränken.<br>
Hier werden die Sendungsinhalte (info1 und info2) nicht mitgeliefert.<br>
<br>
<b>Rueckgabe-Format:</b> Datum Startzeit Monat Wochentag Dauer in Minuten Sender Titel der Sendung<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epgsearch?Nachtmagazin&epginfo=false<br>
2015-04-14 00:15  Apr  Di [20 min]<br>
Das Erste<br>
Nachtmagazin<br>
fsk:0<br>
Nachrichten<br>
----------------------------------------------------------<br>
2015-04-14 01:00  Apr  Di [20 min]<br>
tagesschau24 HD<br>
Nachtmagazin<br>
fsk:0<br>
Nachrichten<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1">4. <a name="epgsearchxml"></a><b>EPG-Suche mit XML Ausgabe</b></div>
<div class="URL">Handler: http://box_ip/control/epgsearchxml</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle verfuegbaren EPG-Daten aller Programme in einer XML zurueckgegeben. <br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epgsearchxml<br>
&lt;neutrino commandversion="1"&gt;<br>
&lt;epgsearch&gt;<br>
&lt;channelname&gt;Sparhandy TV&lt;/channelname&gt;<br>
&lt;epgtitle&gt;Homeshopping mit SparhandyTV&lt;/epgtitle&gt;<br>
&lt;info1&gt;SparhandyTV ist der neue Homeshopping-Kanal von Sparhandy und bietet Ihnen
attraktive und günstige Angebote rund um das Thema Mobilfunk.&lt;/info1&gt;<br>
...<br>
</div>
<b>Parameter:</b> Suchbegriff;epginfo=false<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle Sendungen im EPG zurueckgegeben, die den Suchbegriff<br>
im Titel oder Beschreibungstext beinhalten.<br>
Die Treffer lassen sich unter Angabe von epginfo=false auf Treffer im Titel beschränken.<br>
Hier werden die Sendungsinhalte (info1 und info2) nicht mitgeliefert.<br>
<br>
<b>Rueckgabe-Format:</b> Datum Startzeit Monat Wochentag Dauer in Minuten Sender Titel der Sendung<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/epgsearchxml?Nachtmagazin&epginfo=false<br>
&lt;neutrino commandversion="1"&gt;<br>
&lt;epgsearch&gt;<br>
&lt;channelname&gt;Das Erste HD&lt;/channelname&gt;<br>
&lt;epgtitle&gt;Nachtmagazin&lt;/epgtitle&gt;<br>
&lt;fsk&gt;0&lt;/fsk&gt;<br>
&lt;genre&gt;Nachrichten&lt;/genre&gt;<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="shutdown"></a><b>5. Die Box herunterfahren</b></div>
<div class="URL">Handler: http://box_ip/control/shutdown</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b><br>
<br>
Es wird der Text ok bei Erfolg oder error im Fehlerfall<br>
zurückgegeben. Die Box schaltet sich bei ok sofort ab.<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/shutdown<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="standby"></a><b>6. Standby Mode</b></div>
<div class="URL">Handler: http://box_ip/control/standby</div>
<br>
<b>Parameter: on</b><br>
<b>Rückgabe:</b><br>
<br>
Schaltet in den Standby Mode<br>
<br>
<b>Rückgabe-Format:</b> ok /error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/standby?on<br>
ok<br>
</div>
<b>Parameter: off</b><br>
<b>Rückgabe:</b><br>
<br>
Schaltet den Standby Mode aus<br>
<br>
<b>Rückgabe-Format:</b> ok /error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/standby?off<br>
ok<br>
</div>
<br>
<b>Parameter: </b><br>
<b>Rückgabe: </b><br>
<br>
Zeigt den Standby status an<br>
<br>
<b>Rückgabe-Format:</b> on / off<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/standby<br>
on<br>
<br>
</div>
<p>

<!-- ----------------------------------------------------------- -->
</p>
<div class="title1"><a name="volume"></a><b>7. Lautstärke-Steuerung</b></div>
<div class="URL">Handler: http://box_ip/control/volume</div>
<br>
<b>Parameter: keine</b><br>
<b>Rückgabe:</b><br>
<br>
Es wird die aktuell eingestellte Lautstärke zurückgegeben - die<br>
Werte bewegen sich zwischen 0 (leise) und 100 (laut).<br>
<br>
<b>Rückgabe-Format:</b> Lautstärke<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/volume<br>
80<br>
</div>
<br>
<b>Parameter:</b> &lt;Lautstärke als ganze Zahl in 5er Schritten&gt;<br>
<b>Rückgabe:</b><br>
<br>
Es kann die Lautstärke eingestellt werden - die Werte müssen<br>
sich zwischen 0 (leise) und 100 (laut) bewegen. Es sollten nur Werte<br>
in 5er-Schritten gesetzt werden (5,10,...). <br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/volume?40<br>
ok<br>
</div>
<br>
<b>Parameter:</b> mute<br>
<b>Rückgabe:</b><br>
<br>
Die Audio-Ausgabe wird abgeschaltet. Es kommt als Bestätigung der<br>
String mute zurück.<br>
<br>
<b>Rückgabe-Format:</b> ok<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/volume?mute<br>
mute<br>
</div>
<br>
<b>Parameter:</b> unmute<br>
<b>Rückgabe:</b><br>
<br>
Die Audio-Ausgabe wird wieder eingeschaltet. Es kommt als<br>
Bestätigung der String unmute zurück.<br>
<br>
<b>Rückgabe-Format: </b>ok<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/volume?mute<br>
unmute<br>
</div>
<br>
<b>Parameter:</b> status<br>
<b>Rückgabe:</b><br>
<br>
Es wird der Status (ob gerade mute aktiv ist) zurückgegeben.<br>
0 - unmuted<br>
1 - mute<br>
<br>
<b>Rückgabe-Format:</b> 0 oder 1<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/volume?status<br>
1<br>
<br>
</div>
<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="zapto"></a><b>8. Programm umschalten</b></div>
<div class="URL">Handler: http://box_ip/control/zapto</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rueckgabe:</b><br>
<br>
Es wird die channel_id (hex-value, 64 bit, kein 0x-prefix) des aktuell<br>
laufenden Senders zurueckgegeben.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto<br>
16dcb<br>
</div>
<br>
<b>Parameter:</b> getpids<br>
<b>Rückgabe:</b><br>
<br>
Es werden die VPID und die APID des laufenden Senders angezeigt. Die<br>
beiden Werte sind durch ein Enter voneinander getrennt.<br>
<br>
<b>Rückgabe-Format:</b><br>
VPID<br>
APID<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?getpids<br>
305<br>
306<br>
</div>
<b>Parameter:</b> getallpids<br>
<b>Rückgabe:</b><br>
<br>
Es werden die VTXT PID, VPID und alle APIDs des laufenden Senders<br>
angezeigt. Die Werte sind durch ein Enter voneinander getrennt.<br>
Hinter jeder APID wird eine kurze Beschreibung angegeben, bei AC3<br>
Streams zusätzlich (AC3).<br>
<br>
<b>Rückgabe-Format:</b><br>
VPID<br>
APID &lt;description&gt; [(AC3)]<br>
[APID...]<br>
[VTXT PID]<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?getallpids<br>
<br>
00511<br>
00512 deutsch<br>
00513 englisch<br>
00515 Dolby Digital 2.0<br>
00032 vtxt<br>
00101 pmt<br>
<br>
oder <br>
<br>
00101<br>
00102 German <br>
00104 vtxt<br>
00100 pmt<br>
</div>
<b>Parameter:</b> getallsubchannels<br>
<b>Rückgabe:</b><br>
<br>
Es werden die Unterkanäle des aktuellen Senders zurückgegeben:<br>
<br>
<b>Rückgabe-Format:</b><br>
channel_id channel_name<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?getallsubchannels<br>
<br>
400850012 Direkt Portal<br>
1008500d4 D 1 - 11:30<br>
3008500f1 D 1 - 12:00<br>
3008500dc D 1 - 12:30<br>
1008500d3 D 2 - 11:30<br>
3008500f4 D 2 - 12:00<br>
3008500f0 D 2 - 12:30<br>
4008500d2 D 3 - 11:45<br>
3008500f3 D 3 - 12:45<br>
4008500d1 D 4 - 13:00<br>
4008500d0 D 5 - 12:30<br>
</div>
<br>
<b>Parameter:</b> stopplayback<br>
<b>Rückgabe:</b><br>
Stoppt die Decodierung um Graben zu können. Zusätzlich wird der<br>
Sectionsd gestoppt. Rückgabewert sollte ok für Erfolg sein.<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?stopplayback<br>
ok<br>
</div>
<br>
<b>Parameter:</b> startplayback<br>
<b>Rückgabe:</b><br>
Startet die Decodierung nach dem Graben wieder, Sectionsd wird auch<br>
wieder gestartet. Rückgabewert sollte ok für Erfolg sein.<br>
<br>
<b>Rückgabe-Format:</b> ok<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?startplayback<br>
ok<br>
</div>
<br>
<b>Parameter:</b> statusplayback<br>
<b>Rückgabe:</b><br>
'1': Playback aktiv, '0': kein Playback aktiv<br>
<br>
<b>Rückgabe-Format:</b> 0/1<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?statusplayback<br>
0<br>
</div>
<br>
<b>Parameter:</b> stopsectionsd<br>
<b>Rückgabe:</b><br>
Stoppt den Sectionsd zum Grabben. Rückgabewert sollte ok für Erfolg sein.<br>
<br>
<b>Rückgabe-Format:</b> ok<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?stopsectionsd<br>
ok<br>
</div>
<br>
<b>Parameter:</b> startsectionsd<br>
<b>Rückgabe:</b><br>
Startet Sectionsd nach dem Graben wieder. Rückgabewert sollte ok<br>
für Erfolg sein.<br>
<br>
<b>Rückgabe-Format:</b> ok<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?startsectionsd<br>
ok<br>
</div>
<br>
<b>Parameter:</b> statussectionsd<br>
<b>Rückgabe:</b><br>
gibt den status des sectionsd zurück. (Scanning, bzw, kein scanning)<br>
<br>
<b>Rückgabe-Format:</b> '1': sectionsd scanning an, '0': sectionsd scanning aus<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?statussectionsd<br>
1<br>
</div>
<br>
<b>Parameter:</b> channel_id (64 bit, hexidecimal value)<br>
<b>Rueckgabe:</b><br>
<br>
Zappt auf den angegebenen Kanal.<br>
Als Rueckgabe ist im Erfolgsfall ok zu erwarten.<br>
<br>
<b>Rueckgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?16dcb<br>
ok <br>
</div>

<b>Parameter:</b> channel_name oder channel_names (Ein oder mehrere durch Komma 
getrente Sendernamen; URI encoded)<br>
<b>Rueckgabe:</b><br>
<br>
Zappt auf den angegebenen Kanal.<br>
Als Rueckgabe ist im Erfolgsfall ok zu erwarten.<br>
<br>
<b>Rueckgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/zapto?name=Das%20Erste<br>
ok <br>
<br>
</div>


<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="setmode"></a><b>9. Radio/TV, Record Mode</b></div>
<div class="URL">Handler: http://box_ip/control/setmode</div>
<br>
<b>Parameter:</b> status<br>
<b>Rückgabe:</b><br>
<br>
Es wird der aktuelle record mode status zurückgegeben on / off<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?status<br>
on<br>
</div>
<b>Parameter:</b> radio<br>
<b>Rückgabe:</b><br>
<br>
Schaltet in den radio mode<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?radio<br>
ok<br>
</div>
<b>Parameter:</b> tv<br>
<b>Rückgabe:</b><br>
<br>
Schaltet in den tv mode<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?tv<br>
ok<br>
</div>

<br>
<b>Parameter:</b> record<br>
<b>Rückgabe:</b><br>
<br>
Schaltet in den record mode. Dies beinhaltet auch das stoppen, bzw,<br>
das starten des sectionsd scanning, das starten des playbacks(immer)<br>
und stoppen des playbacks (nur bei stopplayback=true).<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?record=start<br>
ok<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?record=start&amp;stopplayback=true<br>
ok<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setmode?record=stop<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getmode"></a><b>10. Radio/TV Mode Abfrage</b></div>
<div class="URL">Handler: http://box_ip/control/getmode</div>
<br>
<b>Parameter:</b> <br>
<b>Rückgabe:</b> &quot;tv&quot;, &quot;radio&quot;, &quot;unkown&quot;<br>
<br>
Es wird der aktuelle mode zurückgegeben tv / radio / unknown (shouldn't happen)<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getmode<br>
tv<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getdate"></a><b>11. Datum von der Box abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/getdate</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b><br>
<br>
Es wird das Datum zurückgegeben.<br>
<br>
<b>Rückgabe-Format:</b> dd.mm.yyyy<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getdate<br>
11.01.2002<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="gettime"></a><b>12. Zeit von der Box abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/gettime</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b><br>
<br>
Es wird die Uhrzeit zurückgegeben.<br>
<br>
<b>Rückgabe-Format:</b> hh:mm:ss<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/gettime<br>
20:34:24<br>
</div>
<b>Parameter:</b> rawtime<br>
<b>Rückgabe:</b><br>
<br>
Es wird das Uhrzeit im time_t Format zurückgegeben.<br>
<br>
<b>Rückgabe-Format:</b> time_t<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/gettime?rawtime<br>
1046804654<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="info"></a><b>13. Allgemeine Informationen abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/info</div>
<br>
<b>Parameter:</b> streaminfo<br>
<b>Rückgabe:</b><br>
<br>
Es werden Streaminfos zurückgegeben. Die Werte sind durch Enter (\n) getrennt<br>
<br>
<b>Rückgabe-Format:</b> X_res Y_res Bitrate VideoFormat Framerate AudioFormat<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/info?streaminfo<br>
480<br>
576<br>
997500<br>
4:3<br>
25<br>
joint stereo<br>
</div>
<b>Parameter:</b> version<br>
<b>Rückgabe:</b><br>
<br>
Es wird der Inhalt der Datei /.version zurückgegeben. <br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/info?version<br>
version: 1.1.27032002-21.8<br>
md5sum: f1d7d47578bb9040a82085182934ce0e<br>
Erstellt von alexW<br>
</div>
<b>Parameter:</b> settings<br>
<b>Rückgabe:</b> <br>
<br>
Aktuelle Settings und Box Typ<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/info?settings<br>
Boxtype Nokia<br>
videooutput RGB<br>
videoformat 4:3<br>
</div>
<b>Parameter:</b> httpdversion<br>
<b>Rückgabe:</b> <br>
<br>
Version des httpd <br>
1 : nhttpd (legacy api)<br>
2 : thttpd<br>
3 : nhttpd<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/info?httpdversion<br>
3<br>
</div>
<b>Parameter:</b> nhttpd_version<br>
<b>Rückgabe:</b> Version des nhttpd (Neutrino)<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/info?nhttpd_version<br>
2.2.1<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getonidsid"></a><b>14. Aktuellen Kanal abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/getonidsid</div>
<br>
<b>Parameter:</b> <br>
<b>Rueckgabe:</b><br>
<br>
Es wird die TSIDONIDSID des aktuellen Kanals zurueckgegeben.<br>
<br>
Diese Funktion sollte NICHT mehr verwendet werden und ist durch<br>
folgenden Aufruf ersetzt:<br>
http://box_ip/control/zapto<br>
<br>
<b>Rueckgabe-Format:</b> TSIDONIDSID<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getonidsid<br>
44d00016dca<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="currenttpchannels"></a><b>15. Transponder-Sender abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/currenttpchannels</div>
<br>
<b>Parameter:</b> <br>
<b>Rueckgabe:</b><br>
<br>
Es wird die channel_id (hex-value, 64 bit, kein 0x-prefix) gefolgt vom<br>
Sendernamen aller Sender auf dem aktuellen Transponder zurueckgegeben.<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/currenttpchannels<br>
b544000800850086 Sky Cinema+1 HD<br>
b544000800850087 Sky Cinema+24 HD<br>
...<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="get_logo"></a><b>16. Senderlogo-Pfad abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/get_logo</div>
<br>
<b>Parameter:</b> channel_id<br>
<b>Rueckgabe:</b><br>
<br>
Es wird der komplette Pfad des Logos ausgegeben.<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/get_logo?b544000800850088<br>
/share/tuxbox/neutrino/icons/logo/800850088.png<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getservicesxml"></a><b>17. services.xml lesen</b></div>
<div class="URL">Handler: http://box_ip/control/getservicesxml</div>
<br>
<b>Parameter:</b> <br>
<b>Rückgabe:</b><br>
<br>
Es wird der Inhalt der Datei /var/tuxbox/config/zapit/services.xml<br>
zurückgegeben.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getservicesxml<br>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;<br>
&lt;ZAPIT&gt;<br>
&lt;cable&gt;<br>
&lt;transponder transportID=&quot;00001&quot; networkID=&quot;0&quot;&gt;<br>
&lt;cable frequency=&quot;04020&quot; symbolRate=&quot;06900&quot; fec=&quot;0&quot; polarity=&quot;0&quot;/&gt;<br>
...<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getbouquetsxml"></a><b>18. bouquets.xml auslesen</b></div>
<div class="URL">Handler: http://box_ip/control/getbouquetsxml</div>
<br>
Parameter: <br>
Rückgabe:<br>
<br>
Es wird der Inhalt der Datei /var/tuxbox/config/zapit/bouquet.xml<br>
zurückgegeben.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getbouquetsxml<br>
<br>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;<br>
&lt;ZAPIT&gt;<br>
&lt;Bouquet name=&quot;beispielbouquet&quot; hidden=&quot;0&quot; locked=&quot;0&quot;&gt;<br>
&lt;channel serviceID=&quot;6d67&quot; name=&quot;3sat&quot; onid=&quot;0001&quot;/&gt;<br>
...<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getbouquets"></a><b>19. Bouquetlist abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/getbouquets</div>
<br>
<b>Parameter:</b> <br>
<b>Rückgabe:</b><br>
<br>
Es werden alle Bouquets zurückgeliefert<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/getbouquets<br>
1 ARD<br>
3 Premiere World<br>
4 VisionProgramme<br>
5 ZDFvision<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="getbouquet"></a><b>20. Bouquet abfragen</b></div>
<div class="URL">Handler: http://box_ip/control/getbouquet</div>
<br>
<b>Parameter:</b> bouquet=Bouquet Nr. und mode=TV | RADIO oder actual und und 
mode=TV | RADIO optional: xml=true<br>
<b>Rueckgabe:</b><br>
<br>
Es werden alle Sender des Bouquets zurueckgeliefert. Wird actual mit<br>
angegeben, dann wird das Bouquet genommen, welches den aktuellen<br>
Sender als erstes enthält. <br>
Nummer_des_Kanals channel_id Name_des_Senders<br>
<div class="example">
Beispiel:<br>
&gt;&gt;&gt;http://box_ip/control/getbouquet?bouquet=2&amp;mode=TV<br>
20 12ee3 RTL Television<br>
21 85002e SAT.1<br>
22 850382 ProSieben<br>
23 12ef4 RTL2<br>
24 12f1c VOX<br>
<br>
Wird xml=1 angegeben, dann wird die Liste im XML-Format zurückgegeben:<br>
Beispiel:<br>
&gt;&gt;&gt;http://192.168.0.15/control/getbouquet?bouquet=3&amp;xml=true<br>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;<br>
&lt;bouquetlist&gt;<br>
&lt;bouquet&gt;<br>
&lt;bnumber&gt;3&lt;/bnumber&gt;<br>
&lt;/bouquet&gt;<br>
&lt;channel&gt;<br>
&lt;number&gt;33&lt;/number&gt;<br>
&lt;id&gt;44d00016dca&lt;/id&gt;<br>
&lt;name&gt;&lt;![CDATA[Das Erste]]&gt;&lt;/name&gt;<br>
&lt;/channel&gt;<br>
&lt;channel&gt;<br>
&lt;number&gt;34&lt;/number&gt;<br>
&lt;id&gt;44d00016dcd&lt;/id&gt;<br>
&lt;name&gt;&lt;![CDATA[arte]]&gt;&lt;/name&gt;<br>
&lt;/channel&gt;<br>
&lt;/bouquetlist&gt;<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="message"></a><b>21. Fenster in Neutrino</b></div>
<div class="URL">Handler: http://box_ip/control/message</div>
<br>
<b>Parameter:</b> popup=Text oder nmsg=Text<br>
<br>
<b>Rückgabewert:</b> ok<br>
<br>
Zeichensatz: UTF-8, Leerzeichen müssen als %20 gesendet werden<br>
<br>
öffnet ein Popup (popup) oder Message (nmsg) Window, in dem<br>
der Textteil des Parameter angezeigt wird. Ein Popup Fenster schließt<br>
sich nach einiger Zeit von selbst, während ein Message Window<br>
vom Benutzer geschlossen werden muss. <br>
Der Parameter "timeout" bestimmt, nach welcher Zeit das Fenster automatisch schließt.<br>
<div class="example">
Beispiele:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/message?popup=Hallo%20World<br>
öffnet ein Popup-Fenster auf dem Fernseher, in dem &quot;Hallo World&quot; steht<br>
<br>
&gt;&gt;&gt;http://box_ip/control/message?popup=Hallo%20World&timeout=30<br>
öffnet ein Popup-Fenster auf dem Fernseher, in dem &quot;Hallo World&quot; steht und sich nach 30 Sekunden schließt.<br>
<br>
&gt;&gt;&gt;http://box_ip/control/message?nmsg=Hallo%20Welt<br>
öffnet ein Message-Fenster auf dem Fernseher, in dem &quot;Hallo Welt&quot; steht<br>
</div>
KDE Konqueror Benutzer koennen folgendes Verfahren benutzen:<br>
------------------------------------------------------------<br>
Mit Hilfe von &quot;Settings -&gt; Web Shortcuts -&gt; Add&quot; einen neuen Search<br>
Provider hinzufuegen. z.B.:<br>
- Search Provider Name: DBox Popup<br>
- Search URI: http://box_ip/control/message?popup=\{@}<br>
- URI shortcut: dbox<br>
- Charset: UTF-8<br>
<br>
Nun kann eine Popup Message direkt in die Location Bar eingegeben<br>
werden, wenn man ein &quot;dbox: &quot; davor setzt. Beispiel:<br>
dbox: Hallo ä ö ü Ä Ö Ü ß World<br>
<br>
<br>
Google's UTF-8 Tutorial:<br>
------------------------<br>
http://www.google.com/search?q=%C3%A4%20%C3%B6%20%C3%BC%20%C3%84%20%C3%96%20%C3%9C%20%C3%9F&amp;ie=UTF-8&amp;oe=UTF-8<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="timer"></a><b>22. Timerd Interface</b></div>
<div class="URL">Handler: http://box_ip/control/timer</div>
<br>
<b>Parameter:</b> [format=id]<br>
<b>Rückgabe:</b><br>
<br>
Zeigt die Liste aller Timer<br>
<br>
<b>Rückgabe-Format:</b> <br>
eventID eventType eventRepeat repcount announceTime alarmTime stopTime data<br>
<br>
<i>eventID</i> ist der timer-Platz.<br>
<i>eventType</i> ist die Art des timers, die kann sein:<br>
<br>
1 = SHUTDOWN<br>
2 = NEXTPROGRAM<br>
3 = ZAPTO<br>
4 = STANDBY<br>
5 = RECORD<br>
6 = REMIND<br>
7 = SLEEPTIMER<br>
8 = EXEC_PLUGIN<br>
<br>
siehe dazu auch:<br>
<a href="http://cvs.tuxbox.org/cgi-bin/viewcvs.cgi/*checkout*/tuxbox/apps/tuxbox/neutrino/daemons/timerd/doku.html?rev=1.3&content-type=text/plain">http://cvs.tuxbox.org/cgi-bin/viewcvs.cgi/*checkout*/tuxbox/apps/tuxbox/neutrino/daemons/timerd/doku.html?rev=1.3&amp;content-type=text/plain</a><br>
<br>
<i>eventRepeat</i> ist die Angabe der timerwiderholung, die kann sein:<br>
<br>
0 = ONCE (Einmal)<br>
1 = DAILY (Täglich)<br>
2 = WEEKLY (Wöchentlich)<br>
3 = BIWEEKLY (Alle 2 Wochen)<br>
4 = FOURWEEKLY (Alle 4 Wochen)<br>
5 = MONTHLY (Monatlich)<br>
6 = BYEVENTDESCRIPTION (noch nicht implementiert)<br>
<br>
Es gibt auch noch eine Möglichkeit WEEKDAYS also auch wochentage<br>
festzulegen wo die aufname statfinden soll. dies wird über einen<br>
Bitschlüssel angegeben der Bit 9-15 für die Wochentage<br>
ansieht. das heist:<br>
<br>
0000000100000000 = 256 = Montag<br>
0000001000000000 = 512 = Dinstag<br>
0000010000000000 = 1024 = Mittwoch<br>
0000100000000000 = 2048 = Donerstag<br>
0001000000000000 = 4096 = Freitag<br>
0010000000000000 = 8192 = Samstag<br>
0100000000000000 = 16384 = Sontag<br>
<br>
Dem zuvolge ist Montag+Mittwoch+Samstag <br>
<br>
0000000100000000 = 256<br>
0000010000000000 = 1024<br>
0010000000000000 = 8192<br>
---------------- ----<br>
0010010100000000 = 9472<br>
<br>
<i>repcount</i> bestimmt die Anzahl der Timeraufrufe, nach der der Timer<br>
automatisch gelöscht wird. 0 bedeutet, dass es keine<br>
Beschränkung gibt. Bei eventRepeat=ONCE hat diese Einstellung<br>
keine Auswirkungen.<br>
<br>
<i>announceTime</i> ist die Zeit an der die Warnung for den timer auf den<br>
Bildschirm erscheint. siehe auch Kapittel 16: popup. alarmTime ist<br>
die Zeit des Timer-Starts stopTime ist die Stopzeit für den Timer<br>
data ist der Name des Senders.<br>
<br>
<i>data</i> enthält weitere Angaben zum Timer. Bei RECORD z.B. den Sendernamen.<br>
wurde format=id angegeben, so wird statt des Sendernames die channel-id 
ausgegeben.<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/timer<br>
1 1 1 4 1034309516 1034309576 1034284376 555089<br>
<br>
d.h. event 1, SHUTDOWN, DAILY, nach 4 Timerausführungen wird der<br>
Timer gelöscht, announcezeit, alarm/startzeit, stopzeit,<br>
kanal/daten die zeiten sind time_t (Unix Zeitstempel)<br>
</div>
<b>Parameter:</b> get=pre | post<br>
<b>Rückgabe:</b> <br>
<br>
Gibt die voreingestellte Vor- bzw. Nachlaufzeit für RecordingSafty in Sekunden 
aus.<p><b>Rueckgabe-Format:</b> Sekunden</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/timer&amp;get=pre<br>
120<br>
</div>
&nbsp;<p><b>Parameter:</b><br>
action,[id],&lt;alarm|ad,amo,ay,ah,ami|alDate,alTime&gt;,&lt;stop|sd,smo,sy,sh,smi|[stDate],stTime&gt;,announce,type,rep,repcount,channel_id,msg,rs,<br>
[update] Rückgabe: ok / error<br>
<br>
announce, type, rep und repcount analog zum oben.<br>
type: Default ist RECORD<br>
rep: Default ist 0<br>
repcount: Default ist 0<br>
<br>
<i>action</i> kann entweder new oder modify sein. Bei modify mus noch ein<br>
Parameter id angegeben werden um festzulegen welcher Timer modifizirt<br>
wird.<br>
<br>
Zeitangabe:<br>
Variante 1)<br>
Angabe im time_t Format (nur für action=new): announce, alarm und<br>
stop mit einer time_t Zeit<br>
<br>
Variante 2)<br>
Angabe in Parametern : <br>
a/sd = Tag<br>
a/smo = Monat<br>
a/sy = Jahr<br>
a/sh = Stunde<br>
a/smi = Minute<br>
meint: ad für Alarm Day und sd für Stop Day usw.<br>
<br>
Variante 3)<br>
Formatierte Angabe (nur für action=new, Format muß genau eingehalten werden):<br>
alDate = Datum Start, Format TT.MM.JJJJ<br>
alTime = Uhrzeit Start, Format HH.MM<br>
stDate = Datum Ende, Format TT.MM.JJJJ (optional)<br>
stTime = Uhrzeit Ende, Format HH.MM<br>
<br>
<i>channel_id</i> ist die Kennung des Senders (als Hexadezimalzahl ohne '0x'-Prefix).<br>
alternativ kann der Sendername direkt angegeben werden:<br>
<i>channel_name</i> = Sendername (Ein oder mehrere durch Komma getrente Sendernamen;<br>
muss URI codiert sein, also Leerzeichen mit &quot;%20&quot; ersetzen)<br>
<br>
<i>msg</i> ist die Message die bei REMIND gesendet wird<br>
<br>
Ist der Parameter &quot;<i>rs</i>&quot; auf &quot;1&quot; gesetzt, so wird bei Aufnahmetimern,<br>
die in Neutrino konfigurierte &quot;Aufnahmestart/stop-Korrektur&quot;<br>
berücksichtigt<br>
<br>
<i>rec_dir</i> kann einen Aufnahmepfad enthalten (er muss URI-codiert sein).<br>
<br>
<i>update</i>=1 bei action=new löscht einen ggf. vorhandenen Timer mit<br>
gleicher Startzeit vor dem Hinzufügen. siehe dazu auch:<br>
http://cvs.berlios.de/cgi-bin/viewcvs.cgi/tuxbox/apps/tuxbox/neutrino/daemons/nhttpd/webapi.cpp?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup<br>
<br>
<b>Rueckgabe-Format:</b> ok / error<br>
</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/timer?action=new&amp;alarm=1034309576&amp;stop=1034284376&amp;announce=1034309576&amp;type=1&amp;rep=1&amp;channel_id=16dcb<br>
ok<br>
&gt;&gt;&gt;http://box_ip/control/timer?action=new&amp;alDate=24.01.2006&amp;alTime=20.00&amp;stTime=20.15&amp;channel_name=Das%20Erste&amp;update=1<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="lcd"></a><b>23. LCD Interface</b></div>
<div class="URL">Handler: http://box_ip/control/lcd</div>
<br>
<b>Parameter:</b> <br>
lock, clear, png, raw, line, rect, xpos, ypos, size, font, color, text, update<br>
Rückgabe: ok /error<br>
<br>
Ansteuerung des LCD-Interfaces über das Web-Interface<br>
<br>
Folgende Parameter werden dabei unterstützt:<br>
<br>
lock=n : n=1 -&gt; das Display wird bis auf Widerruf für Neutrino gesperrt<br>
n=0 -&gt; das Display wird wieder für Neutrino freigegeben<br>
<br>
clear=n : n=1 -&gt; das Display wird gelöscht (sollte ganz vorn stehen)<br>
n=0 -&gt; das Display wird vor der neuen Ausgabe nicht<br>
gelöscht (kann entfallen) <br>
<br>
png=Dateiname : eine lokal auf der Box liegende PNG-Datei wird in's<br>
Display geladen<br>
(z.B. /share/tuxbox/lcdd/icons/setup.png als<br>
Hintergrund)<br>
<br>
raw=x,y,xs,ys,d1,..,dn : überträgt die Daten d1 bis dn an die<br>
Position (x,y) im Display mit xs Spalten<br>
und ys Zeilen. Die Daten werden dezimal<br>
übertragen. Jeder Wert repräsentiert<br>
dabei 8 Punkte innerhalb einer Zeile. Das<br>
höchstwertige Bit entspricht dem Pixel<br>
ganz links. Sollen in einer Zeile 9 Pixel<br>
geschrieben werden, sind dafür zwei<br>
Datenwerte nötig, auch wenn die<br>
restlichen 7 Bit des zweiten Wertes nicht<br>
verwendet werden. Die Werte werden<br>
zeilenweise hintereinandergeschrieben. Für ein<br>
Rechteck von 8 Zeilen zu 9 Pixeln sind also<br>
16 Werte erforderlich, beginnend mit dem<br>
Wert für die 8 Pixel ganz links oben,<br>
gefolgt von dem Wert für das letzte<br>
Pixel der obersten Zeile (mit einem <br>
Wert von 128 wenn es gesetzt werden soll),<br>
dann der Wert für die ersten 8 Pixel der<br>
zweiten Zeile usw.<br>
<br>
line=x1,y1,x2,y2,col : zeichnet eine Linie von (x1,y1) nach (x2,y2)<br>
mit der Farbe col col=0 -&gt; aus, col=1 -&gt;<br>
leuchtend, col=2 -&gt; invertierend<br>
<br>
rect=x1,y1,x2,y2,col1,col2: zeichnet ein Rechteck mit der linken<br>
oberen Ecke (x1,y1) und der rechten<br>
unteren Ecke (x2,y2), der Rahmenfarbe<br>
col1 welches mit der Farbe col2<br>
ausgefüllt wird (Farben siehe &quot;line&quot;) <br>
<br>
update=1 : an dieser Stelle wird das Display upgedatet. Somit kann<br>
man zunächst einige Ausgaben machen und dann erst<br>
alles zusammen updaten. Somit wird ein Flackern des<br>
Displays verhindert. Sequenzen ohne diesen Parameter<br>
haben auf die Anzeige also zunächst erst mal keine<br>
Auswirkung.<br>
<br>
Die folgenden Parameter betreffen nur die Textausgabe<br>
<br>
text= : Auszugebender Text in UTF-8 Format (Leerzeichen = %20,<br>
Zeilenumbruch = %0A usw.)<br>
<br>
xpos=nn : Position des ersten Zeichens horizontal (default 10)<br>
<br>
ypos=nn : Position der linken oberen Ecke des ersten Zeichens (default 10)<br>
<br>
size=nn : Größe des Textes (default 12)<br>
<br>
color=n : Textfarbe (default 1, siehe &quot;line&quot;)<br>
<br>
font=n : zu verwendender Font (default 0)<br>
n=0 -&gt; micron.ttf, n=1 -&gt; micron_bold.ttf, n=2 -&gt; pakenham.ttf<br>
<br>
Hinweise: <br>
----------------------------------<br>
Innerhalb eines Aufrufes können mehrere Kommandos gleichzeitig<br>
angegeben werden. Allerdings müssen sie von unterschiedlichem Typ<br>
sein. Bei z.B. zwei rect-Parametern innerhalb eines Aufrufes wird der<br>
zweite Parameter ignoriert. Abgearbeitet werden die Kommandos in der<br>
Reihenfolge: lock, clear, png, raw, line, rect, xpos, ypos, size,<br>
color, font, text, update. Der Parameter lock ist erforderlich, da<br>
ohne Sperrung das Displays für Neutrino die über den nhttpd<br>
gemachten Ausgaben auf dem Display spätestens nach einer Sekunde<br>
durch das zyklische Update von Neutrino wieder überschrieben werden<br>
würden. Daher ist bei der ersten Ausgabe lock=1 zu setzen. Wird das<br>
Display nicht mehr benötigt, muß lock=0 gesetzt werden, damit<br>
Neutrino wieder Zugriff auf das LCD erhält.<br>
<div class="example">
Beispiel: <br>
----------------------------------<br>
<br>
wget -O /tmp/nhttpd.res 
'http://localhost/control/lcd?lock=1&amp;clear=1&amp;rect=10,10,110,50,1,0&amp;xpos=20&amp;ypos=27&amp;size=22&amp;font=2&amp;text=%20Hallo%20Welt%0A%C3%9Cbungstext&amp;update=1'<br>
wget -O /tmp/nhttpd.res 
'http://localhost/control/lcd?rect=10,10,110,50,1,2&amp;update=1' <br>
<br>
um das Display wieder freizugeben, sollte zum Schluß<br>
<br>
wget -O /tmp/nhttpd.res 'http://localhost/control/lcd?lock=0'<br>
<br>
ausgeführt werden.<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="URL"><div class="title1"><a name="exec"></a><b>24. Shellscript ausführen</b></div>
Handler: http://box_ip/cgi-bin/exec</div>
<br>
<b>Parameter:</b> &lt;Scriptname&gt; (ohne .sh!)<br>
<b>Rückgabe: </b>Ausgabe des Scripts<br>
<br>
Führt das Shellscript aus und liefert die Ausgabe an den Client zurück<br>
<div class="example">
Beispiel:<br>
<br>
buli.sh gibt einen RSS-Feed zurück, der vom Newsticker angezeigt<br>
wird. In newsticker.list muss dann der Aufruf folgendermassen aussehen:<br>
<br>
http://box_ip/cgi-bin/exec?buli<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="system"></a><b>25. System-/Treiberfunktionen</b></div>
<div class="URL">Handler: http://box_ip/control/system</div>
<br>
<b>Parameter:</b> getAViAExtIec<br>
<b>Rückgabe:</b> Status des Iec (optischer Ausgang)<br>
<br>
0 = Iec deaktiviert<br>
1 = Iec aktiviert<br>
<div class="example">
Beispiel:<br>
http://box_ip/control/system?getAViAExtIec<br>
1<br>
</div>
<b>Parameter:</b> setAViAExtIec=on<br>
<b>Rückgabe:</b> ok<br>
<br>
Aktiviert den Iec<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/system?setAViAExtIec=on<br>
ok<br>
</div>
<b>Parameter:</b> setAViAExtIec=off<br>
<b>Rückgabe:</b> ok<br>
<br>
Deaktiviert den Iec<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/system?setAViAExtIec=off<br>
ok<br>
</div>
<b>Parameter:</b> getAViAExtPlayBack<br>
<b>Rückgabe:</b> Gibt zurück, in welchem Dekoder-Modus der Avia laeuft<br>
<br>
0 = PES<br>
1 = SPTS<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/system?getAViAExtPlayBack<br>
1<br>
</div>
<b>Parameter:</b> getAViAExtPlayBack=pes<br>
<b>Rückgabe:</b> ok<br>
<br>
Aktiviert den PES-Modus<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/system?setAViAExtPlayBack=pes<br>
ok<br>
</div>
<b>Parameter:</b> getAViAExtPlayBack=spts<br>
<b>Rückgabe:</b> ok<br>
<br>
Aktiviert den SPTS-Modus<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/system?setAViAExtPlayBack=spts<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="rc"></a><b>26. Fernbedienung</b></div>
<div class="URL">Handler: http://box_ip/control/rc</div>
<br>
<b>Parameter:</b> lock<br>
<b>Rückgabe:</b> ok<br>
<br>
Sperrt die Fernbedienung<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/rc?lock<br>
ok<br>
</div>
<b>Parameter:</b> unlock<br>
<b>Rückgabe:</b> ok<br>
<br>
Entsperrt die Fernbedienung<br>
<div class="example">
Beispiel:<br>
<br>
http://box_ip/control/rc?unlock<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="reboot"></a><b>27. Die Box neu starten</b></div>
<div class="URL">Handler: http://box_ip/control/reboot</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b><br>
<br>
Es wird der Text ok bei Erfolg oder error im Fehlerfall<br>
zurückgegeben. Die Box startet sich bei ok sofort neu.<br>
<b>
<br>
Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/reboot<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="settings"></a><b>28. Einige Einstellungen lesen</b></div>
<div class="URL">Handler: http://box_ip/control/settings</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b> Text mit einer Beschreibung des Boxenherstellers,<br>
Videooutputs und Videoformats.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="version"></a><b>29. Die /.versions-File lesen</b></div>
<div class="URL">Handler: http://box_ip/control/version</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b> Die Datei /.version wird ausgegeben.<br>
<br>
Die gleiche Funktionalität bietet http://box_ip/control/info?version.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="startplugin"></a><b>30. Plugin ausführen</b></div>
<div class="URL">Handler: http://box_ip/control/startplugin</div>
<br>
<b>Parameter:</b> name=&lt;pluginname&gt;<br>
<b>Rückgabe:</b> ok/error<br>
<br>
Das Plugin mit dem Name &lt;pluginname&gt; wird gestartet.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/startplugin?name=tuxtxt<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="yweb"></a><b>31. Support für yweb</b></div>
<div class="URL">Handler: http://box_ip/control/yweb</div>
<br>
<b>Parameter:</b> <br>
<b>Rückgabe:</b><br>
<br>
Supportfunktionen für yweb. Es wird empfohlen, diese nicht<br>
ausserhalb von yweb zu benutzen.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="aspectratio"></a><b>32. Aspektratio lesen</b></div>
<div class="URL">Handler: http://box_ip/control/aspectratio</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b> 4:3/16:9<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="videoformat"></a><b>33. Videoformat lesen/setzen</b></div>
<div class="URL">Handler: http://box_ip/control/videoformat</div>
<br>
<b>Parameter: </b>keine/status<br>
<b>Rückgabe:</b> automatic/4:3 (LB)/4:3 (PS)/16:9<br>
<br>
<b>Parameter:</b> automatic/4:3-LB/4:3-PS/16:9<br>
<b>Rückgabe:</b> ok<br>
<br>
Setzt aktuelles Videoformat.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="videooutput"></a><b>34. Videooutput lesen/setzen</b></div>
<div class="URL">Handler: http://box_ip/control/videooutput</div>
<br>
<b>Parameter: </b>keine/status<br>
<b>Rückgabe:</b> CVBS/RGB with CVBS/S-Video/YUV with VBS/YUV with CVBS<br>
<br>
<b>Parameter:</b> cvbs/rgb/s-video/yuv-vbs/yuv-cvbs<br>
<b>Rückgabe:</b> ok<br>
<br>
Setzt Videooutputtyp. <br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="vcroutput"></a><b>35. VCR-output lesen/setzen</b></div>
vHandler: http://box_ip/control/vcroutput</div>
<br>
<b>Parameter:</b> keine/status<br>
<b>Rückgabe:</b> CVBS/S-Video<br>
<br>
<b>Parameter:</b> cvbs/s-video<br>
<b>Rückgabe:</b> ok/error<br>
<br>
Setzt VCRoutputtyp. S-Video ist möglich nur bei Videooutput CVBS<br>
und S-Video.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="scartmode"></a><b>36. Scartmode lesen/setzen</b></div>
<div class="URL">Handler: http://box_ip/control/scartmode</div>
<br>
<b>Parameter:</b> keine/status<br>
<b>Rückgabe:</b> on/off<br>
<br>
<b>Parameter:</b> on/off<br>
<b>Rückgabe:</b> ok<br>
<br>
Schaltet Scartmode ein oder aus.<br>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="rcem"></a><b>37. Fernbedienungstasten emulieren</b></div>
<div class="URL">Handler: http://box_ip/control/rcem</div>
<br>
<b>Parameter:</b> &lt;keyname&gt;, repeat=&lt;n&gt; (default 1), delay=&lt;delaytime&gt; (default 250)<br>
<b>Rückgabe:</b> ok<br>
<br>
Die Taste mit dem Name &lt;keyname&gt; wird emuliert. Als &lt;keyname&gt; wird<br>
alle existierende Tasten, auch Tastaturtasten. Es wird &lt;n&gt;<br>
Tastendrucken geschickt, mit einem Verzögerung von &lt;delaytime&gt;<br>
dazwischen. In Detail: Erstmals wird ein KEY_PRESSED Event geschickt,<br>
danach, &lt;n&gt; - 1 KEY_AUTOREPEAT Events mit Delay &lt;delaytime&gt;<br>
millisekunden dazwischen, danach ein KEY_RELEASED Event.<br>
<br>
<b>Parameter:</b> &lt;keyname&gt;, duration=&lt;time&gt;, delay=&lt;delaytime&gt; (default 250)<br>
<b>Rückgabe:</b> ok<br>
<br>
Äquivalent zu der erste Form, mit repeat =<br>
&lt;time&gt;*1000/&lt;delaytime&gt;. Dies entspricht in wesentlichen die Taste<br>
&lt;keyname&gt; für &lt;delaytime&gt; sekunden zu senden. Dies ist die Semantik<br>
von den Argumenten des Programms rcsim. <br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/rcem?KEY_HELP<br>
ok<br>
<br>
&gt;&gt;&gt;http://box_ip/control/rcem?KEY_UP?repeat=4?delay=300<br>
ok<br>
</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="setbouquet"></a><b>38. Bouquet-Editor: Attribute setzen</b></div>
<div class="URL">Handler: http://box_ip/control/setbouquet</div>
<br>
<b>Parameter:</b> selected=&lt;id&gt;&amp;action=hide|show|lock|unlock<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Ändert für &quot;selected&quot; Bouquet das Sichtbarkeitsattribut (hide/show) oder 
Zugriffsattribut<br>
(lock/unlock). Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/setbouquet?selected=2&amp;action=lock<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="savebouquet"></a><b>39. Bouquet-Editor: Bouquet-Liste 
	speichern</b></div>
<div class="URL">Handler: http://box_ip/control/savebouquet</div>
<br>
<b>Parameter:</b> <br>
<b>Rückgabe:</b> ok<br>
/control/savebouquet schreibt die Daten permanent in das Bouquet-File.<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/savebouquet<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="movebouquet"></a><b>40. Bouquet-Editor: Bouquet verschieben</b></div>
<div class="URL">Handler: http://box_ip/control/movebouquet</div>
<br>
<b>Parameter:</b> selected=&lt;id&gt;&amp;action=up|down<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Verschiebt &quot;selected&quot;-Bouquet um eine Zeile nach oben oder unten in der 
Bouquet-Liste. <br>
Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/movebouquet?selected=2&amp;action=down<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="deletebouquet"></a><b>41. Bouquet-Editor: Bouquet löschen</b></div>
<div class="URL">Handler: http://box_ip/control/deletebouquet</div>
<br>
<b>Parameter:</b> selected=&lt;id&gt;<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Löscht &quot;selected&quot;-Bouquet aus der 
Bouquet-Liste. <br>
Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/deletebouquet?selected=2<br>
ok<br>
&nbsp;</div>
&nbsp;</p>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="addbouquet"></a><b>42. Bouquet-Editor: Bouquet hinzufügen</b></div>
<div class="URL">Handler: http://box_ip/control/addbouquet</div>
<br>
<b>Parameter:</b> name=&lt;bouquetname&gt;<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Fügt ein neues Bouquet mit <i>bouquetname</i> hinzu. <br>
Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/addbouquet?name=neuer%20sender<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="renamebouquet"></a><b>43. Bouquet-Editor: Bouquet umbenennen</b></div>
<div class="URL">Handler: http://box_ip/control/renamebouquet</div>
<br>
<b>Parameter:</b> selected=&lt;id&gt;&amp;nameto=&lt;new name&gt;<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Benennt &quot;selected&quot;-Bouquet in <i>new name</i> um. <br>
Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/renamebouquet?selected=2&amp;nameto=Lieblingssender<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="changebouquet"></a><b>44. Bouquet-Editor: Bouquet Channels 
	ändern</b></div>
<div class="URL">Handler: http://box_ip/control/changebouquet</div>
<br>
<b>Parameter:</b> selected=&lt;id&gt;&amp;bchannels=&lt;channel_id&gt;[,&lt;channel_id&gt;]*[&amp;redirect=url]<br>
<b>Rückgabe:</b> ok / error<br>
<br>
Fügt die unter bchannels angegebenen Channels dem &quot;selected&quot;-Bouquet 
zu. <br>
Die Funktion läuft im ZapIt-Bouqueteditor.
<p>/control/savebouquet schreibt die Daten permanent in das Bouquet-File.</p>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/changebouquet?selected=2&amp;bchannels=2712f001d099, 
43700016d66<br>
ok<br>
&nbsp;</div>
<br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="reloadsetup"></a><b>45. Settings neu laden.</b></div>
<div class="URL">Handler: http://box_ip/control/reloadsetup</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b><br>
<br>
Es wird der Text ok bei Erfolg oder error im Fehlerfall<br>
zurückgegeben. Die Settings werden erneut geladen und Änderungen übernommen..<br>
<br>
<b>Rückgabe-Format:</b> ok / error<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/reloadsetup<br>
ok<br>
<br>
</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="reloadplugins"></a><b>46. Plugins neu laden</b></div>
<div class="URL">Handler: http://box_ip/control/reloadplugins</div>
<br>
<b>Parameter:</b> keine<br>
<b>Rückgabe:</b> ok<br>
<br>
Die Pluginliste wird neu geladen.
<br><br>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="screenshot"></a><b>47. Screenshot erstellen</b></div>
<div class="URL">Handler: http://box_ip/control/screenshot</div>
<br>
<b>Parameter:</b> name=&lt;dateiname&gt;&amp;osd=1|0&amp;video=1|0<br><br>
<b>Rückgabe:</b> ok<br>
<br>
Screenshot mit TV Bild und OSD wird erstellt und unter /tmp/&lt;dateiname&gt;.png abgelegt.
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/screenshot?osd=0&amp;video=1<br>
ok<br>
<br>
&nbsp;</div>


<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="signal"></a><b>48. Signalst&auml;rke zeigen</b></div>
<div class="URL">Handler: http://box_ip/control/signal</div>
<br>
<b>Parameter:</b> keine oder sig, snr, ber<br><br>
<b>R&uuml;ckgabe</b>:<br>
SIG: 100<br>
SNR:  90<br>
BER:  0<br>
<br>
Signalst&auml;rke SIG in %, SNR in % und BER wird ausgegeben.
Wird ein spezieller Wert als Parameter angegeben, wird keine Beschreibung ausgegeben.
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/signal?sig<br>
100<br>
&nbsp;</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="audio"></a><b>49. Audio-Decoder Informationen</b></div>
<div class="URL">Handler: http://box_ip/control/audio</div>
<br>
<b>Parameter:</b> <br><br>
<b>Rückgabe:</b> Format Modus Frequenz<br>
<br>
Gibt die Audio-Decoder Informationen zum MPEG-2 oder Dolby Digital Tonformat aus.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/audio<br>
DD CH1/CH2 (48000)<br>
&nbsp;</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="crypt"></a><b>50. CA-IDs anzeigen</b></div>
<div class="URL">Handler: http://box_ip/control/crypt</div>
<br>
<b>Parameter:</b> <br><br>
<b>Rückgabe:</b> CA-IDs des Senders<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/crypt<br>
Nagra:1830<br>
Nagra:1843<br>
Nagra:1860<br>
Nagra:186a<br>
Videoguard:98c<br>
Videoguard:9c4<br>
&nbsp;</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="file"></a><b>51. Verzeichnis-Inhalt anzeigen</b></div>
<div class="URL">Handler: http://box_ip/control/file</div>
<br>
<b>Parameter:</b> action=list&amp;path=&lt;Pfad&gt;<br><br>
<b>Rückgabe:</b> DateinameDateitypFullnameBerechtigungLinkanzahlBesitzerGruppeGrößeÄnderungszeitpunktUnixänderungszeitpunkt<br>
Ohne die unten genannten format-Parameter Zu empfehlen ist die Ausgabe per Parameter format=json<br>
<br>
Gibt Inhalt und Datei-Informationen eines Verzeichnisses aus. Die oben genannten Parameter action=list&amp;path=&lt;Pfad&gt;<br>
sind Pflicht. Weitere Aktionen sind noch nicht umgesetzt.<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/file?action=list&path=/var/tuxbox/config<br>
..dir4/var/tuxbox/config/..41edld3rootroot0Tue Mar 17 16:06:57 20151426604817<br>
recording.endfile8/var/tuxbox/config/recording.end81edld1rootroot56Tue Mar 17 15:57:49 20151426604269<br>
<br>
...<br>
<b>Parameter:</b> ;format=json oder format=xml<br><br>
<b>Rückgabe:</b> Dateiname,Dateityp,Fullname,Berechtigung,Linkanzahl,Besitzer,Gruppe,Größe,Änderungszeitpunkt,Unixänderungszeitpunkt<br>
<b>ACHTUNG: </b>Die Ausgabe der XML funktioniert unter Umständen nicht fehlerfrei.<br>
Daher sollte plain text, oder JSON genutzt werden.<br>
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/file?action=list&path=/var/tuxbox/config&format=json<br>
...<br>
,{&quot;name&quot;: &quot;recording.end&quot;,<br>
&quot;type_str&quot;: &quot;file&quot;,<br>
&quot;type&quot;: &quot;8&quot;,<br>
&quot;fullname&quot;: &quot;/var/tuxbox/config/recording.end&quot;,<br>
&quot;mode&quot;: &quot;81edld&quot;,<br>
&quot;nlink&quot;: &quot;1&quot;,<br>
&quot;user&quot;: &quot;root&quot;,<br>
&quot;group&quot;: &quot;root&quot;,<br>
&quot;size&quot;: &quot;56&quot;,<br>
&quot;time&quot;: &quot;Tue Mar 17 15:57:49 2015&quot;,<br>
&quot;time_t&quot;: &quot;1426604269&quot;<br>
}<br>
...<br>

&nbsp;</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="config"></a><b>52. Configs ansehen/bearbeiten</b></div>
<div class="URL">Handler: http://box_ip/control/config</div>
<br>
<b>Parameter:</b> config=neutrino oder config=nhttpd oder config=yweb; format=json oder format=xml<br><br>
<b>Rückgabe:</b> Gibt die entsprechende Konfigurationsdatei als plain text, oder bei entsprechender<br>
Option (format=...) als JSON oder XML aus<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/config?config=neutrino<br>
analog_mode1=770<br>
analog_mode2=516<br>
analog_out=1<br>
...<br>
<b>Parameter:</b> action=submit&amp;key1=value1&amp;key2=value2&amp;...<br><br>
<b>Rückgabe:</b> bearbeitete Konfigurationsdatei im ausgewählten Format<br><br>
<b>ACHTUNG: </b>Das Schreiben führt zum Setzen von Pseudo-Werten in die Konfigurationsdatei, wie bspw:<br>
2=config<br>
4=action<br>
6=analog_mode1<br>
8=analog_mode2<br>
Dies zerstört die XML-Ausgabe. Der Befehl sollte nicht verwendet werden.<br>
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/config?config=neutrino&action=submit&analog_mode1=799&analog_mode2=522&format=xml<br>
...<br>
&lt;config&gt;<br>
&lt;analog_mode1&gt;799&lt;/analog_mode1&gt;<br>
&lt;analog_mode2&gt;522&lt;/analog_mode2&gt;<br>
&lt;analog_out&gt;1&lt;/analog_out&gt;<br>
	...<br>
&nbsp;</div>

<!-- ----------------------------------------------------------- -->
<div class="title1"><a name="build_live_url"></a><b>53. Streaming URL anfordern</b></div>
<div class="URL">Handler: http://box_ip/control/build_live_url</div>
<br>
<b>Parameter:</b> audio_no=<i>&lt;audio-track&gt;</i>;vlc_link=true<br><br>
<b>Rückgabe:</b> Live-URL des aktuellen Senders oder redirection Link auf vlc.m3u-Datei<br>
Die Werte nach &lt;box_ip&gt; und &lt;Port&gt; sind die Hex-Werte von PMTpid,Vpid,Apid<br>
<br>
<div class="example">
Beispiel:<br>
<br>
&gt;&gt;&gt;http://box_ip/control/build_live_url<br>
http://box_ip:31339/0,0x0064,0x04ff,0x0503<br>
<br>
Beim Aufruf mit dem Parameter vlc_link=true wird ein REDIRECT zu der Datei<br>
tmp/vlc.m3u vom Server mit dem gleichen Inhalt wie oben ausgegeben<br>
Die Datei bzw. den Pfad kann man ebenfalls mit dem VLC-Player öffnen.<br>
Bei Radio Streams muss neben der Audio-ID auch die PMT-ID übermittelt werden,<br>
da VLC die Wiedergabe sonst nicht startet.<br>
<br>
<br>
Kann als veraltet betrachtet werden, da es auch möglich den Stream direkt aufzurufen.
<div class="URL">Handler: http://box_ip:31339/</div>
<br>
<b>Parameter:</b> id=<i>&lt;channel_id&gt;</i><br>
<br>
Mit Angabe der channel_id kann Stream eines bestimmten Kanals aufgerufen werden.<br>
Es ist möglich mehrere Streams zu laden. Alle Tonspuren sind werden gesendet.<br>
Wenn möglich (gleicher Transponder oder freier Tuner) findet das Streaming im Hintergrund statt.<br>
<br>
Beispiel:<br>
http://box_ip:31339/id=bae8000600850083<br>
&nbsp;</div>


&nbsp;&nbsp;</p>


&nbsp;</p>


</p>


</p>


</p>


</body>
</html>
